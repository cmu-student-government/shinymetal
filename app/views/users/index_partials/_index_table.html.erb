<%# Pass in users @requesters or @staff from index page %>
<%# 'user_type' is 'requesters' or 'staff' %>

<h2><%= user_type.capitalize %></h2>

<% if users.empty? %>

<p>No <%= user_type %> found.</p>

<% else %>

  <table>
    <thead>
      <tr>
	<th>Andrew</th>
	<th>Role</th>
	<th>Active?</th>
	<%# Staff can see this list but only admin can edit users %>
	<% if @current_user.role? :admin %>
	  <th colspan="3"></th>
	<% end %>
      </tr>
    </thead>
    <tbody>
    <% for user in users %>
      <tr>
	<td><%= link_to user.andrew_id, user %></td>
	<td><%= user.role %></td>
	<td>
        <%= render partial: 'shared/boolean_label', locals: { boolean_label: user.active, true_message: "Yes", false_message: "No" } %>
        </td>
	<%# Staff can see this list but only admin can edit users %>
	<% if @current_user.role? :admin %>
	  <td><%= link_to 'Edit', edit_user_path(user), class: "small-button" %></td>
        <% end %>
      </tr>
    <% end %>
    </tbody>
  </table>

<% end %>
